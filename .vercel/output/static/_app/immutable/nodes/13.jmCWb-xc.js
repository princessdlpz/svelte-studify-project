import{f as F}from"../chunks/fetch-refresh.CoktrdpI.js";import{e as J,b as x,i as S}from"../chunks/index.DJuFnhGY.js";import{a as c,t as v,d as L,c as d,e as a,f as T}from"../chunks/disclose-version.B-hLH5kf.js";import{p as U,l as k,c as B,r as D,a as E,g as t,m as w,s as P,b as j,M as q}from"../chunks/runtime.DDjRgbeA.js";import{i as b}from"../chunks/if.BIDFABO2.js";import{i as G}from"../chunks/lifecycle.Dwr_-_8E.js";import"../chunks/entry.DFsZ7VbH.js";import"../chunks/HeaderNav.svelte_svelte_type_style_lang.BOaGD4ME.js";import{C as O}from"../chunks/Card.DpYgZsTY.js";const H=async({fetch:y,params:s,depends:o,route:l})=>{o(`app:${l.id}`);const i=s.query,p=new URLSearchParams({q:i,type:"album,artist,playlist",limit:"6"}).toString(),m=await F(y,`/api/spotify/search?${p}`);if(!m.ok)throw J(m.status,"Failed to load results!");const R=await m.json();return{title:`Search results for: ${i}`,searchResults:R}},ne=Object.freeze(Object.defineProperty({__proto__:null,load:H},Symbol.toStringTag,{value:"Module"}));var I=v("<p>No results found!</p>"),K=v('<div class="grid-item"><!></div>'),Q=v('<section class="section svelte-a8mgn9"><h2 class="svelte-a8mgn9">Albums</h2> <div class="grid-items"></div></section>'),V=v('<div class="grid-item"><!></div>'),W=v('<section class="section svelte-a8mgn9"><h2 class="svelte-a8mgn9">Playlists</h2> <div class="grid-items"></div></section>'),X=v('<div class="grid-item"><!></div>'),Y=v('<section class="section svelte-a8mgn9"><h2 class="svelte-a8mgn9">Artists</h2> <div class="grid-items"></div></section>'),Z=v('<h1 class="svelte-a8mgn9"> </h1> <!> <!> <!> <!>',1);function ce(y,s){U(s,!1);const o=w(),l=w(),i=w();k(()=>j(s.data),()=>{var e;P(o,(e=s.data.searchResults.albums)==null?void 0:e.items)}),k(()=>j(s.data),()=>{var e;P(l,(e=s.data.searchResults.playlists)==null?void 0:e.items)}),k(()=>j(s.data),()=>{var e;P(i,(e=s.data.searchResults.artists)==null?void 0:e.items)}),B(),G();var p=Z(),m=T(p),R=d(m),A=a(a(m,!0));b(A,()=>(!t(o)||t(o).length===0)&&(!t(l)||t(l).length===0)&&(!t(i)||t(i).length===0),e=>{var r=I();c(e,r)});var C=a(a(A,!0));b(C,()=>t(o)&&t(o).length>0,e=>{var r=Q(),_=d(r),u=a(a(_,!0));x(u,9,()=>t(o),S,(h,g,N)=>{var n=K(),f=d(n);O(f,{get item(){return q(g)}}),c(h,n)}),c(e,r)});var M=a(a(C,!0));b(M,()=>t(l)&&t(l).length>0,e=>{var r=W(),_=d(r),u=a(a(_,!0));x(u,9,()=>t(l),S,(h,g,N)=>{var n=V(),f=d(n);O(f,{get item(){return q(g)}}),c(h,n)}),c(e,r)});var z=a(a(M,!0));b(z,()=>t(i)&&t(i).length>0,e=>{var r=Y(),_=d(r),u=a(a(_,!0));x(u,9,()=>t(i),S,(h,g,N)=>{var n=X(),f=d(n);O(f,{get item(){return q(g)}}),c(h,n)}),c(e,r)}),D(()=>L(R,s.data.title)),c(y,p),E()}export{ce as component,ne as universal};

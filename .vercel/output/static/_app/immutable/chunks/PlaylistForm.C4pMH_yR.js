import{a as o,t as u,c as s,g as L,d as f,e as a}from"./disclose-version.B-hLH5kf.js";import{p as O,r as n,a as T,g as j,m as q,s as B}from"./runtime.DDjRgbeA.js";import{i as b}from"./if.BIDFABO2.js";import{a as z}from"./actions.B3legGYV.js";import{r as _,s as G}from"./index.DJuFnhGY.js";import{t as H}from"./class.CTwLLMHQ.js";import{i as J}from"./lifecycle.Dwr_-_8E.js";import{p as y}from"./props.GCjS4c-Y.js";import{a as K}from"./entry.DFsZ7VbH.js";import{B as M}from"./Button.Dse6T-Vv.js";import{c as Q}from"./index-client.Dvsx0NXl.js";import"./HeaderNav.svelte_svelte_type_style_lang.BOaGD4ME.js";import{e as R}from"./forms.C2Yu6mSk.js";var U=u('<input hidden name="userID">'),V=u('<p class="error svelte-10utbli"> </p>'),W=u('<p class="error svelte-10utbli"> </p>'),X=u('<form method="POST" class="svelte-10utbli"><!> <div class="field svelte-10utbli"><label for="playlist-name" class="svelte-10utbli">Name *</label> <input type="text" id="playlist-name" name="name" placeholder="Playlist Name" class="svelte-10utbli"> <!></div> <div class="field svelte-10utbli"><label for="playlist-description" class="svelte-10utbli">Description</label> <input type="text" id="playlist-description" name="description" placeholder="Playlist Description" class="svelte-10utbli"></div> <!> <div class="submit-button svelte-10utbli"><!></div></form>');function ue(N,r){O(r,!1);const h=Q();let v=q(!1),g=y(r,"userID",0,void 0),S=y(r,"action",0,void 0),d=y(r,"playlist",0,void 0);J();var m=X(),x=s(m);b(x,g,e=>{var t=U();_(t),n(()=>t.value=g()),o(e,t)});var c=a(a(x,!0)),k=s(c),p=a(a(k,!0));_(p);var w=a(a(p,!0));b(w,()=>{var e;return(e=r.form)==null?void 0:e.nameError},e=>{var t=V(),i=s(t);n(()=>{var l;return f(i,(l=r.form)==null?void 0:l.nameError)}),o(e,t)});var P=a(a(c,!0)),A=s(P),D=a(a(A,!0));_(D);var E=a(a(P,!0));b(E,()=>{var e;return(e=r.form)==null?void 0:e.apiError},e=>{var t=W(),i=s(t);n(()=>f(i,r.form.apiError)),o(e,t)});var C=a(a(E,!0)),F=s(C);M(F,{get disabled(){return j(v)},element:"button",type:"submit",children:(e,t)=>{var i=L(e);n(()=>f(i,d()?"Save Playlist":"Create Playlist")),o(e,i)}}),n(()=>{var e,t,i,l,I;G(m,"action",S()),H(c,"has-error",(e=r.form)==null?void 0:e.nameError),p.value=((t=r.form)==null?void 0:t.name)||((i=d())==null?void 0:i.name)||"",D.value=((l=r.form)==null?void 0:l.description)||((I=d())==null?void 0:I.description)||""}),z(m,(e,t)=>R(e,t),()=>()=>(B(v,!0),async({result:e})=>{await K(e),B(v,!1),e.type==="success"&&h("success"),e.type==="redirect"&&h("redirect")})),o(N,m),T()}export{ue as P};
